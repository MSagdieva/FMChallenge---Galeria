const body=document.body,docElWidth=document.documentElement.clientWidth,modalFooterIndicator=document.querySelector(".modal_footer-indicator"),galleryImage=document.querySelectorAll(".gallery__image"),picsNames=document.querySelectorAll(".painting__name"),picsAuthor=document.querySelectorAll(".painting__author"),modal=document.querySelector(".modal-one"),modal_one_content=document.querySelector(".modal-one .modal-one__content"),paintName=document.querySelector(".footer-painting_name"),artName=document.querySelector(".footer-artist_name"),modal_close=document.querySelector(".modal-one .close-button"),startSlideShow=document.querySelector(".start-button"),next=document.querySelector(".next-button"),back=document.querySelector(".back-button"),modal2=document.querySelector(".modal-two"),modal_two_content=document.querySelector(".modal-two .modal-two__content");let slideNumber=0,nextSlide=1,prevSlide=14,pictures=[],names=[];function fetchInfoForDescription(){fetch("data/data.json").then(e=>e.json()).then(e=>{Array.from(e).map((e,t)=>{picsNames[t].insertAdjacentText("beforeend",e.name),picsAuthor[t].insertAdjacentText("beforeend",e.artist.name),pictures.push(pictInfoFill(e)),names.push({name:e.name,artist_name:e.artist.name,image:e.images.gallery}),galleryImage[t].addEventListener("click",()=>{slideNumber=t,nextSlide=t+1,prevSlide=t-1,imageInfoSlide(t,pictures),setAdditionalPaintingData(t)})}),startSlideShow.addEventListener("click",()=>{imageInfoSlide(0,pictures),modalFooterIndicator.style.width=getSliderIndicatorPosition(0)+"px"}),setInactiveButtons(0),pictNameArtNameChange(0),addViewImageButton(0)}).catch(e=>{console.log(e)})}function initFirstModal(){nextBackChange(),modal_close.addEventListener("click",()=>{modal.classList.remove("active"),body.style.overflowY="scroll",slideNumber=0,nextSlide=1,prevSlide=14,window.scrollTo({top:0,behavior:"smooth"})})}function imageInfoSlide(e,t){body.style.overflow="hidden",modal_one_content.innerHTML=t[e],modal.classList.add("active"),setInactiveButtons(e)}function setInactiveButtons(e){0==e?back.classList.add("inactive"):back.classList.remove("inactive"),14==e?next.classList.add("inactive"):next.classList.remove("inactive")}function pictNameArtNameChange(e){paintName.innerHTML=names[e].name,artName.innerHTML=names[e].artist_name}function addViewImageButton(e){let t=document.querySelector(".view_image_button");t&&t.addEventListener("click",()=>{modal2.classList.add("active"),modal_two_content.innerHTML="<div class='image_cont'><span class='start-button stop-button close-button'>Close</span><img class='big_image' src="+names[e].image+"></div>",modal2.querySelector(".close-button").addEventListener("click",()=>{modal2.classList.remove("active")})})}function nextBackButtonActions(e){"next"===e?(modal_one_content.innerHTML=pictures[nextSlide],prevSlide=slideNumber,slideNumber=nextSlide,nextSlide+=1):(modal_one_content.innerHTML=pictures[prevSlide],nextSlide=slideNumber,slideNumber=prevSlide,prevSlide=slideNumber-1),setAdditionalPaintingData(slideNumber)}function nextBackChange(){next.addEventListener("click",()=>{14!==slideNumber&&nextBackButtonActions("next")}),back.addEventListener("click",()=>{0!==slideNumber&&nextBackButtonActions("prev")})}function getSliderIndicatorPosition(e){let t=Math.ceil(docElWidth/15)*(e+1);return 14==e?docElWidth>768?t+10:docElWidth-1:t}function pictInfoFill(e){return"<div class='first_column'><div class='image_info_container'><div class='painting_head'><h3 class='painting_name'>"+e.name+"</h3><p class='artist_name'>"+e.artist.name+"</p></div><div class='paint_images'><div class='img_container'><img class='big_image_with_desc' src="+e.images.hero.large+"><div class='view_image_button'><img src='/img/icons/view.svg'><span class='view'>View image</span></div></div><img class='author_pics' src="+e.artist.image+"></div></div></div><div class='second_column'><p class='painting_description'>"+e.description+"<span class='painting_year'>"+e.year+"</span></p><a class='source_link' href='"+e.source+"'>Go to sourse</a></div></div>"}function setAdditionalPaintingData(e){setInactiveButtons(e),pictNameArtNameChange(e),addViewImageButton(e),modalFooterIndicator.style.width=getSliderIndicatorPosition(e)+"px"}fetchInfoForDescription(),initFirstModal();